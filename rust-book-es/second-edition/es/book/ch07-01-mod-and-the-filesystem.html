<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>mod y el Sistema de Archivos - The Rust Programming Language</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="foreword.html">Prefacio</a></li><li class="chapter-item expanded affix "><a href="ch00-00-introduction.html">Introducción</a></li><li class="chapter-item expanded "><a href="ch01-00-getting-started.html"><strong aria-hidden="true">1.</strong> Comenzando</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch01-01-installation.html"><strong aria-hidden="true">1.1.</strong> Instalación</a></li><li class="chapter-item expanded "><a href="ch01-02-hello-world.html"><strong aria-hidden="true">1.2.</strong> Hola, Mundo!</a></li><li class="chapter-item expanded "><a href="ch01-03-hello-cargo.html"><strong aria-hidden="true">1.3.</strong> Hola, Cargo!</a></li></ol></li><li class="chapter-item expanded "><a href="ch02-00-guessing-game-tutorial.html"><strong aria-hidden="true">2.</strong> Programando un Juego de Adivinanzas</a></li><li class="chapter-item expanded "><a href="ch03-00-common-programming-concepts.html"><strong aria-hidden="true">3.</strong> Conceptos Comunes de Programación</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch03-01-variables-and-mutability.html"><strong aria-hidden="true">3.1.</strong> Variables y Mutabilidad</a></li><li class="chapter-item expanded "><a href="ch03-02-data-types.html"><strong aria-hidden="true">3.2.</strong> Tipos de Datos</a></li><li class="chapter-item expanded "><a href="ch03-03-how-functions-work.html"><strong aria-hidden="true">3.3.</strong> Funciones</a></li><li class="chapter-item expanded "><a href="ch03-04-comments.html"><strong aria-hidden="true">3.4.</strong> Comentarios</a></li><li class="chapter-item expanded "><a href="ch03-05-control-flow.html"><strong aria-hidden="true">3.5.</strong> Estructuras de Control</a></li></ol></li><li class="chapter-item expanded "><a href="ch04-00-understanding-ownership.html"><strong aria-hidden="true">4.</strong> Comprendiendo la Propiedad (posesión)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch04-01-what-is-ownership.html"><strong aria-hidden="true">4.1.</strong> Qué es la Propiedad?</a></li><li class="chapter-item expanded "><a href="ch04-02-references-and-borrowing.html"><strong aria-hidden="true">4.2.</strong> Referencias y Préstamos</a></li><li class="chapter-item expanded "><a href="ch04-03-slices.html"><strong aria-hidden="true">4.3.</strong> Segmentos (Slices)</a></li></ol></li><li class="chapter-item expanded "><a href="ch05-00-structs.html"><strong aria-hidden="true">5.</strong> Usando Structs para Estructurar Datos Relacionados</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-01-defining-structs.html"><strong aria-hidden="true">5.1.</strong> Definiendo e Instanciando Structs</a></li><li class="chapter-item expanded "><a href="ch05-02-example-structs.html"><strong aria-hidden="true">5.2.</strong> Un Programa Ejemplo Usando Structs</a></li><li class="chapter-item expanded "><a href="ch05-03-method-syntax.html"><strong aria-hidden="true">5.3.</strong> Sintáxis del Método</a></li></ol></li><li class="chapter-item expanded "><a href="ch06-00-enums.html"><strong aria-hidden="true">6.</strong> Enums y Patrones de Concordancia</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch06-01-defining-an-enum.html"><strong aria-hidden="true">6.1.</strong> Definiendo un Enum</a></li><li class="chapter-item expanded "><a href="ch06-02-match.html"><strong aria-hidden="true">6.2.</strong> Estructura de Control match</a></li><li class="chapter-item expanded "><a href="ch06-03-if-let.html"><strong aria-hidden="true">6.3.</strong> Estructura de Control concisa con if let</a></li></ol></li><li class="chapter-item expanded "><a href="ch07-00-modules.html"><strong aria-hidden="true">7.</strong> Módulos</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch07-01-mod-and-the-filesystem.html" class="active"><strong aria-hidden="true">7.1.</strong> mod y el Sistema de Archivos</a></li><li class="chapter-item expanded "><a href="ch07-02-controlling-visibility-with-pub.html"><strong aria-hidden="true">7.2.</strong> Controlando la Visibilidad con pub</a></li><li class="chapter-item expanded "><a href="ch07-03-importing-names-with-use.html"><strong aria-hidden="true">7.3.</strong> Rutas para hacer Referencia a un Elemento en el Árbol de Módulos</a></li></ol></li><li class="chapter-item expanded "><a href="ch08-00-common-collections.html"><strong aria-hidden="true">8.</strong> Colecciones Comunes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch08-01-vectors.html"><strong aria-hidden="true">8.1.</strong> Almacenamiento de listas de valores con Vectores</a></li><li class="chapter-item expanded "><a href="ch08-02-strings.html"><strong aria-hidden="true">8.2.</strong> Almacenamiento de texto codificado en UTF-8 con Strings</a></li><li class="chapter-item expanded "><a href="ch08-03-hash-maps.html"><strong aria-hidden="true">8.3.</strong> Mapas Hash</a></li></ol></li><li class="chapter-item expanded "><a href="ch09-00-error-handling.html"><strong aria-hidden="true">9.</strong> Manejo de Errores</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch09-01-unrecoverable-errors-with-panic.html"><strong aria-hidden="true">9.1.</strong> Errores Irrecuperables con panic!</a></li><li class="chapter-item expanded "><a href="ch09-02-recoverable-errors-with-result.html"><strong aria-hidden="true">9.2.</strong> Errores Recuperables con Result</a></li><li class="chapter-item expanded "><a href="ch09-03-to-panic-or-not-to-panic.html"><strong aria-hidden="true">9.3.</strong> Con panic! o Sin panic!</a></li></ol></li><li class="chapter-item expanded "><a href="ch10-00-generics.html"><strong aria-hidden="true">10.</strong> Tipos genéricos, Traits y Lifetimes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch10-01-syntax.html"><strong aria-hidden="true">10.1.</strong> Tipos de Datos Genéricos</a></li><li class="chapter-item expanded "><a href="ch10-02-traits.html"><strong aria-hidden="true">10.2.</strong> Traits: Definición del Comportamiento Compartido</a></li><li class="chapter-item expanded "><a href="ch10-03-lifetime-syntax.html"><strong aria-hidden="true">10.3.</strong> Validando Referencias con Lifetimes</a></li></ol></li><li class="chapter-item expanded "><a href="ch11-00-testing.html"><strong aria-hidden="true">11.</strong> Testing</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch11-01-writing-tests.html"><strong aria-hidden="true">11.1.</strong> Escribiendo Tests</a></li><li class="chapter-item expanded "><a href="ch11-02-running-tests.html"><strong aria-hidden="true">11.2.</strong> Corriendo Tests</a></li><li class="chapter-item expanded "><a href="ch11-03-test-organization.html"><strong aria-hidden="true">11.3.</strong> Organización de los Tests</a></li></ol></li><li class="chapter-item expanded "><a href="ch12-00-an-io-project.html"><strong aria-hidden="true">12.</strong> Un Proyecto I/O: Creando un Programa de Línea de Comandos</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch12-01-accepting-command-line-arguments.html"><strong aria-hidden="true">12.1.</strong> Aceptando Argumentos de Línea de Comandos</a></li><li class="chapter-item expanded "><a href="ch12-02-reading-a-file.html"><strong aria-hidden="true">12.2.</strong> Leyendo un Archivo</a></li><li class="chapter-item expanded "><a href="ch12-03-improving-error-handling-and-modularity.html"><strong aria-hidden="true">12.3.</strong> Refactorizando para mejorar la Modularidad y el Manejo de Errores</a></li><li class="chapter-item expanded "><a href="ch12-04-testing-the-librarys-functionality.html"><strong aria-hidden="true">12.4.</strong> Desarrollando la Funcionalidad de la Biblioteca con Desarrollo Basado en Pruebas (Test-driven development (TDD))</a></li><li class="chapter-item expanded "><a href="ch12-05-working-with-environment-variables.html"><strong aria-hidden="true">12.5.</strong> Trabajando con Variables de Entorno</a></li><li class="chapter-item expanded "><a href="ch12-06-writing-to-stderr-instead-of-stdout.html"><strong aria-hidden="true">12.6.</strong> Escribiendo Mensajes de Error en "Standard Error" en lugar de "Standard Output"</a></li></ol></li><li class="chapter-item expanded "><a href="ch13-00-functional-features.html"><strong aria-hidden="true">13.</strong> Características del Lenguaje Funcional: Iterators y Closures</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch13-01-closures.html"><strong aria-hidden="true">13.1.</strong> Closures: Funciones Anónimas que pueden Capturar su Entorno</a></li><li class="chapter-item expanded "><a href="ch13-02-iterators.html"><strong aria-hidden="true">13.2.</strong> Procesando una Serie de Elementos con Iteradores</a></li><li class="chapter-item expanded "><a href="ch13-03-improving-our-io-project.html"><strong aria-hidden="true">13.3.</strong> Mejorando Nuestro Proyecto de I/O</a></li><li class="chapter-item expanded "><a href="ch13-04-performance.html"><strong aria-hidden="true">13.4.</strong> Comparación de Rendimiento: Loops vs. Iterators</a></li></ol></li><li class="chapter-item expanded "><a href="ch14-00-more-about-cargo.html"><strong aria-hidden="true">14.</strong> Más Acerca de Cargo y Crates.io</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch14-01-release-profiles.html"><strong aria-hidden="true">14.1.</strong> Personalizando Compilaciones con Perfiles de Lanzamiento</a></li><li class="chapter-item expanded "><a href="ch14-02-publishing-to-crates-io.html"><strong aria-hidden="true">14.2.</strong> Publicando un Crate en Crates.io</a></li><li class="chapter-item expanded "><a href="ch14-03-cargo-workspaces.html"><strong aria-hidden="true">14.3.</strong> Espacios de Trabajo de Cargo</a></li><li class="chapter-item expanded "><a href="ch14-04-installing-binaries.html"><strong aria-hidden="true">14.4.</strong> Instalando Binarios desde Crates.io con cargo install</a></li><li class="chapter-item expanded "><a href="ch14-05-extending-cargo.html"><strong aria-hidden="true">14.5.</strong> Ampliando Cargo con Comandos Personalizados</a></li></ol></li><li class="chapter-item expanded "><a href="ch15-00-smart-pointers.html"><strong aria-hidden="true">15.</strong> Punteros Inteligentes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch15-01-box.html"><strong aria-hidden="true">15.1.</strong> Box&lt;T&gt; apunta a datos en el Heap y tiene un tamaño conocido</a></li><li class="chapter-item expanded "><a href="ch15-02-deref.html"><strong aria-hidden="true">15.2.</strong> Tratamiento de Punteros Inteligentes como Referencias Regulares con el trait Deref</a></li><li class="chapter-item expanded "><a href="ch15-03-drop.html"><strong aria-hidden="true">15.3.</strong> El Drop Trait Ejecuta el Código durante la Limpieza</a></li><li class="chapter-item expanded "><a href="ch15-04-rc.html"><strong aria-hidden="true">15.4.</strong> Rc&lt;T&gt;, Puntero Inteligente con Conteo de Referencias</a></li><li class="chapter-item expanded "><a href="ch15-05-interior-mutability.html"><strong aria-hidden="true">15.5.</strong> RefCell&lt;T&gt; y el Patrón de Mutabilidad Interior</a></li><li class="chapter-item expanded "><a href="ch15-06-reference-cycles.html"><strong aria-hidden="true">15.6.</strong> Creación de Ciclos de Referencia y la Seguridad en la Fuga de Memoria</a></li></ol></li><li class="chapter-item expanded "><a href="ch16-00-concurrency.html"><strong aria-hidden="true">16.</strong> Concurrencia sin Miedo</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch16-01-threads.html"><strong aria-hidden="true">16.1.</strong> Hilos (Threads)</a></li><li class="chapter-item expanded "><a href="ch16-02-message-passing.html"><strong aria-hidden="true">16.2.</strong> Paso de Mensajes</a></li><li class="chapter-item expanded "><a href="ch16-03-shared-state.html"><strong aria-hidden="true">16.3.</strong> Estado Compartido</a></li><li class="chapter-item expanded "><a href="ch16-04-extensible-concurrency-sync-and-send.html"><strong aria-hidden="true">16.4.</strong> Concurrencia Extensible: Sync and Send</a></li></ol></li><li class="chapter-item expanded "><a href="ch17-00-oop.html"><strong aria-hidden="true">17.</strong> Características de Programación Orientada a Objetos de Rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch17-01-what-is-oo.html"><strong aria-hidden="true">17.1.</strong> Características de los Lenguajes Orientados a Objetos</a></li><li class="chapter-item expanded "><a href="ch17-02-trait-objects.html"><strong aria-hidden="true">17.2.</strong> Uso de Objetos Trait que permiten Valores de Diferentes Tipos</a></li><li class="chapter-item expanded "><a href="ch17-03-oo-design-patterns.html"><strong aria-hidden="true">17.3.</strong> Implementación de un Patrón de Diseño Orientado a Objetos</a></li></ol></li><li class="chapter-item expanded "><a href="ch18-00-patterns.html"><strong aria-hidden="true">18.</strong> Patrones y Coincidencias</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch18-01-all-the-places-for-patterns.html"><strong aria-hidden="true">18.1.</strong> Todos los patrones de lugares pueden ser utilizados</a></li><li class="chapter-item expanded "><a href="ch18-02-refutability.html"><strong aria-hidden="true">18.2.</strong> Refutabilidad: si un Patrón podría No Coincidir</a></li><li class="chapter-item expanded "><a href="ch18-03-pattern-syntax.html"><strong aria-hidden="true">18.3.</strong> Toda la Sintaxis de Patrones</a></li></ol></li><li class="chapter-item expanded "><a href="ch19-00-advanced-features.html"><strong aria-hidden="true">19.</strong> Características Avanzadas</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch19-01-unsafe-rust.html"><strong aria-hidden="true">19.1.</strong> Rust en Modo Inseguro</a></li><li class="chapter-item expanded "><a href="ch19-02-advanced-traits.html"><strong aria-hidden="true">19.2.</strong> Traits Avanzados</a></li><li class="chapter-item expanded "><a href="ch19-03-advanced-types.html"><strong aria-hidden="true">19.3.</strong> Tipos Avanzados</a></li><li class="chapter-item expanded "><a href="ch19-04-advanced-functions-and-closures.html"><strong aria-hidden="true">19.4.</strong> Funciones Avanzadas y Closures</a></li><li class="chapter-item expanded "><a href="ch19-05-macros.html"><strong aria-hidden="true">19.5.</strong> Macros</a></li></ol></li><li class="chapter-item expanded "><a href="ch20-00-final-project-a-web-server.html"><strong aria-hidden="true">20.</strong> Proyecto Final: Construcción de un Servidor web Multiprocesos</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch20-01-single-threaded.html"><strong aria-hidden="true">20.1.</strong> Un Servidor Web de un solo Proceso</a></li><li class="chapter-item expanded "><a href="ch20-02-multithreaded.html"><strong aria-hidden="true">20.2.</strong> Transformando nuestro Servidor de un solo Proceso a un Servidor Multiprocesos</a></li><li class="chapter-item expanded "><a href="ch20-03-graceful-shutdown-and-cleanup.html"><strong aria-hidden="true">20.3.</strong> Apagado y Limpieza Elegantes</a></li></ol></li><li class="chapter-item expanded "><a href="appendix-00.html"><strong aria-hidden="true">21.</strong> Apéndice</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="appendix-01-keywords.html"><strong aria-hidden="true">21.1.</strong> A - Palabras Claves</a></li><li class="chapter-item expanded "><a href="appendix-02-operators.html"><strong aria-hidden="true">21.2.</strong> B - Operadores y Símbolos</a></li><li class="chapter-item expanded "><a href="appendix-03-derivable-traits.html"><strong aria-hidden="true">21.3.</strong> C - Traits Derivables</a></li><li class="chapter-item expanded "><a href="appendix-04-useful-development-tools.html"><strong aria-hidden="true">21.4.</strong> D - Herramientas Útiles de Desarrollo</a></li><li class="chapter-item expanded "><a href="appendix-05-editions.html"><strong aria-hidden="true">21.5.</strong> E - Ediciones</a></li><li class="chapter-item expanded "><a href="appendix-06-translation.html"><strong aria-hidden="true">21.6.</strong> F - Traducciones</a></li><li class="chapter-item expanded "><a href="appendix-07-nightly-rust.html"><strong aria-hidden="true">21.7.</strong> G - Cómo se hace Rust y “Nightly Rust”</a></li><li class="chapter-item expanded "><a href="appendix-08-advanced-lifetimes.html"><strong aria-hidden="true">21.8.</strong> H - Lifetimes Avanzados</a></li><li class="chapter-item expanded "><a href="appendix-09-newest-features.html"><strong aria-hidden="true">21.9.</strong> I - Características más Recientes (previous version)</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust Programming Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="mod-y-el-sistema-de-archivos"><a class="header" href="#mod-y-el-sistema-de-archivos"><code>mod</code> y el sistema de archivos</a></h2>
<p>Comenzaremos nuestro ejemplo de módulo haciendo un nuevo proyecto con Cargo,
pero en lugar de crear una <em>binary crate</em>, crearemos una <em>library crate</em>: un
proyecto que otras personas pueden incorporar a sus proyectos como una
dependencia. Por ejemplo, la caja <code>rand</code> discutida en el Capítulo 2 es una
<em>library crate</em> que usamos como una dependencia en el proyecto del juego de
adivinanzas.</p>
<p>Crearemos un esqueleto de una <em>library</em> (<em>biblioteca</em>) que proporciona alguna
funcionalidad general de red; nos concentraremos en la organización de los
módulos y funciones, pero no nos preocuparemos por qué código va en los
cuerpos de funciones. Llamaremos a nuestra biblioteca <code>communicator</code>. Para
crear una biblioteca, pase la opción <code>--lib</code> en lugar de <code>--bin</code>:</p>
<pre><code class="language-text">$ cargo new communicator --lib
$ cd communicator
</code></pre>
<p>Tenga en cuenta que Cargo generó <em>src/lib.rs</em> en lugar de <em>src/main.rs</em>. Dentro de <em>src/lib.rs</em> encontraremos lo siguiente:</p>
<p><span class="filename">Filename: src/lib.rs</span></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[cfg(test)]
mod tests {
    #[test]
    fn it_works() {
        assert_eq!(2 + 2, 4);
    }
}
<span class="boring">}
</span></code></pre></pre>
<p>Cargo crea una prueba de ejemplo para ayudarnos a iniciar nuestra biblioteca,
en lugar del binario “Hello, world!” Que obtenemos cuando usamos la opción
<code>--bin</code>. Veremos la sintaxis <code>#[]</code> y <code>mod tests</code> en la sección “Uso de <code>super</code>
para acceder a un módulo principal“ más adelante en este capítulo, pero por
ahora, deje este código en la parte inferior de *src/lib.rs *.</p>
<p>Como no tenemos un archivo <em>src/main.rs</em>, Cargo no puede ejecutar nada con el
comando <code>cargo run</code>. Por lo tanto, usaremos el comando <code>cargo build</code> para
compilar el código de nuestro cajón de biblioteca.</p>
<p>Veremos diferentes opciones para organizar el código de su biblioteca que
serán adecuadas en una variedad de situaciones, dependiendo de la intención
del código.</p>
<h3 id="definiciones-de-módulos"><a class="header" href="#definiciones-de-módulos">Definiciones de módulos</a></h3>
<p>Para nuestra biblioteca de redes <code>communicator</code>, primero definiremos un módulo
llamado <code>network</code> que contiene la definición de una función llamada <code>connect</code>.
Cada definición de módulo en Rust comienza con la palabra clave <code>mod</code>. Agregue
este código al principio del archivo <em>src/lib.rs</em>, encima del código de
prueba:</p>
<p><span class="filename">Filename: src/lib.rs</span></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>mod network {
    fn connect() {
    }
}
<span class="boring">}
</span></code></pre></pre>
<p>Después de la palabra clave <code>mod</code>, colocamos el nombre del módulo,<code>network</code>,
y luego un bloque de código entre llaves. Todo dentro de este bloque está
dentro de la <code>red</code> del espacio de nombres. En este caso, tenemos una sola
función, <code>connect</code>. Si quisiéramos llamar a esta función desde el código que
está fuera del módulo <code>network</code>, necesitaríamos especificar el módulo y usar
la sintaxis del espacio de nombres <code>::</code> como así: <code>network::connect()</code>.</p>
<p>También podemos tener varios módulos, uno al lado del otro, en el mismo
archivo <em>src/lib.rs</em>. Por ejemplo, para tener también un módulo <code>cliente</code>
que tiene una función llamada<code> connect</code>, podemos agregarlo como se muestra en
el Listado 7-1.</p>
<p><span class="filename">Filename: src/lib.rs</span></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>mod network {
    fn connect() {
    }
}

mod client {
    fn connect() {
    }
}
<span class="boring">}
</span></code></pre></pre>
<p><span class="caption">Listing 7-1: El módulo <code>network</code> y el módulo <code>client</code>
definidos uno al lado del otro en <em>src/lib.rs</em></span></p>
<p>Ahora tenemos una función <code>network :: connect</code> y una función
<code>client::connect</code>. Estos pueden tener una funcionalidad completamente
diferente, y los nombres de las funciones no entran en conflicto entre sí
porque están en módulos diferentes.</p>
<p>En este caso, debido a que estamos creando una biblioteca, el archivo que
sirve como punto de entrada para construir nuestra biblioteca es <em>src/lib.rs</em>.
Sin embargo, con respecto a la creación de módulos, no hay nada especial sobre
<em>src/lib.rs</em>. También podríamos crear módulos en <em>src/main.rs</em> para
una <em>binary crate</em> de la misma manera que estamos creando módulos en
<em>src/lib.rs</em> para la <em>library crate</em>. De hecho, podemos poner módulos dentro
de los módulos, que pueden ser útiles a medida que crecen sus módulos para
mantener la funcionalidad relacionada organizada y separar por separado la
funcionalidad. La forma en que elija organizar su código depende de cómo
piense acerca de la relación entre las partes de su código. Por ejemplo, el
código <code>client</code> y su función <code>connect</code> podrían tener más sentido para los
usuarios de nuestra biblioteca si estuvieran dentro del espacio de nombres
<code>network</code>, como en el Listado 7-2.</p>
<p><span class="filename">Filename: src/lib.rs</span></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>mod network {
    fn connect() {
    }

    mod client {
        fn connect() {
        }
    }
}
<span class="boring">}
</span></code></pre></pre>
<p><span class="caption">Listing 7-2: Mover el módulo <code>client</code> dentro del módulo
<code>network</code></span></p>
<p>En su archivo <em>src/lib.rs</em>, reemplace las definiciones existentes
<code>mod network</code> y <code>mod client</code> con las del Listado 7-2, que tienen el módulo
<code>client</code> como un módulo interno de <code>network</code>. Las funciones
<code>network:: connect</code> y <code>network::client::connect</code> se denominan <code>connect</code>, pero
no entran en conflicto entre ellas porque se encuentran en espacios de
nombres diferentes.</p>
<p>De esta manera, los módulos forman una jerarquía. Los contenidos de
<em>src/lib.rs</em> están en el nivel superior, y los submódulos están en niveles
más bajos. Aquí se muestra cómo se ve la organización de nuestro ejemplo en
el listado 7-1 cuando se considera una jerarquía:</p>
<pre><code class="language-text">communicator
 ├── network
 └── client
</code></pre>
<p>Y aquí está la jerarquía correspondiente al ejemplo en el Listado 7-2:</p>
<pre><code class="language-text">communicator
 └── network
     └── client
</code></pre>
<p>La jerarquía muestra que en el listado 7-2, <code>client</code> es un elemento
secundario del módulo <code>network</code> en lugar de un <em>sibling</em>. Los proyectos más
complicados pueden tener muchos módulos, y deberán estar organizados
lógicamente para que pueda seguirlos. Lo que “lógicamente” significa en su
proyecto depende de usted y depende de cómo usted y los usuarios de su
biblioteca piensen sobre el dominio de su proyecto. Use las técnicas que se
muestran aquí para crear módulos lado a lado y módulos anidados en la
estructura que desee.</p>
<h3 id="mover-módulos-a-otros-archivos"><a class="header" href="#mover-módulos-a-otros-archivos">Mover módulos a otros archivos</a></h3>
<p>Los módulos forman una estructura jerárquica, muy similar a otra estructura
en la informática a la que estás acostumbrado: sistemas de archivos. Podemos
usar el sistema de módulos de Rust junto con varios archivos para dividir los
proyectos de Rust, de modo que no todo esté en <em>src/lib.rs</em> o <em>src/main.rs</em>.
Para este ejemplo, comencemos con el código en el Listado 7-3.</p>
<p><span class="filename">Filename: src/lib.rs</span></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>mod client {
    fn connect() {
    }
}

mod network {
    fn connect() {
    }

    mod server {
        fn connect() {
        }
    }
}
<span class="boring">}
</span></code></pre></pre>
<p><span class="caption">Listing 7-3: Tres módulos, <code>client</code>,<code>network</code>, y
<code>network::server</code>, todos definidos en *src/lib.rs *</span></p>
<p>El archivo <em>src/lib.rs</em> tiene esta jerarquía de módulo:</p>
<pre><code class="language-text">communicator
 ├── client
 └── network
     └── server
</code></pre>
<p>Si estos módulos tuvieran muchas funciones, y esas funciones fueran cada vez
más largas, sería difícil desplazarse por este archivo para encontrar el
código con el que queríamos trabajar. Debido a que las funciones están
anidadas dentro de uno o más bloques <code>mod</code>, las líneas de código dentro de
las funciones también comenzarán a ser largas. Estas serían buenas razones
para separar los módulos <code>client</code>, <code>network</code> y <code>server</code> de <em>src/lib.rs</em> y
colocarlos en sus propios archivos.</p>
<p>Primero, reemplacemos el código del módulo <code>cliente</code> con solo la declaración
del módulo <code>cliente</code> para que <em>src/lib.rs</em> se vea como el código que se
muestra en el Listado 7-4.</p>
<p><span class="filename">Filename: src/lib.rs</span></p>
<pre><code class="language-rust ignore">mod client;

mod network {
    fn connect() {
    }

    mod server {
        fn connect() {
        }
    }
}
</code></pre>
<p><span class="caption">Listing 7-4: Extrayendo el contenido del módulo
<code>client</code> pero dejando la declaración en <em>src/lib.rs</em></span></p>
<p>Todavía estamos <em>declarando</em> el módulo <code>cliente</code> aquí, pero al reemplazar el
bloque con un punto y coma, le estamos diciendo a Rust que busque en otra
ubicación el código definido dentro del alcance del módulo <code>cliente</code>. En
otras palabras, la línea <code>mod client;</code> significa esto:</p>
<pre><code class="language-rust ignore">mod client {
    // contents of client.rs
}
</code></pre>
<p>Ahora necesitamos crear el archivo externo con ese nombre de módulo. Cree un
archivo <em>client.rs</em> en su directorio <em>src/</em> y ábralo. Luego ingrese lo
siguiente, que es la función <code>connect</code> en el módulo <code>client</code> que eliminamos
en el paso anterior:</p>
<p><span class="filename">Filename: src/client.rs</span></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn connect() {
}
<span class="boring">}
</span></code></pre></pre>
<p>Tenga en cuenta que no necesitamos una declaración <code>mod</code> en este archivo
porque ya hemos declarado el módulo <code>client</code> con <code>mod</code> en <em>src/lib.rs</em>. Este
archivo solo proporciona los <em>contenidos</em> del módulo <code>cliente</code>. Si colocamos
un <code>mod client</code> aquí, le daremos al módulo <code>client</code> su propio submódulo
llamado <code>client</code>.</p>
<p>Rust solo sabe buscar <em>src/lib.rs</em> de manera predeterminada. Si queremos
agregar más archivos a nuestro proyecto, debemos decirle a Rust en
<em>src/lib.rs</em> que busque en otros archivos; esta es la razón por la cual
<code>mod client</code> necesita definirse en <em>src/lib.rs</em> y no puede definirse en
<em>src/client.rs</em>.</p>
<p>Ahora el proyecto debe compilarse con éxito, aunque recibirá algunas
advertencias. Recuerde utilizar <code>cargo build</code> en lugar de <code>cargo run</code> porque
tenemos una <em>library crate</em> en lugar de una <em>binary crate</em>:</p>
<pre><code class="language-text">$ cargo build
   Compiling communicator v0.1.0 (file:///projects/communicator)
warning: function is never used: `connect`
 --&gt; src/client.rs:1:1
  |
1 | / fn connect() {
2 | | }
  | |_^
  |
  = note: #[warn(dead_code)] on by default

warning: function is never used: `connect`
 --&gt; src/lib.rs:4:5
  |
4 | /     fn connect() {
5 | |     }
  | |_____^

warning: function is never used: `connect`
 --&gt; src/lib.rs:8:9
  |
8 | /         fn connect() {
9 | |         }
  | |_________^
</code></pre>
<p>Estas advertencias nos dicen que tenemos funciones que nunca se usan. No te
preocupes por estas advertencias por el momento; los abordaremos más adelante
en este capítulo en la sección “Controlando la visibilidad con <code>pub</code>“. La
buena noticia es que solo son advertencias; nuestro proyecto construido con
éxito!</p>
<p>Luego, extraigamos el módulo <code>network</code> en su propio archivo usando el mismo
patrón. En <em>src/lib.rs</em>, elimine el cuerpo del módulo <code>network</code> y agregue un
punto y coma a la declaración, así:</p>
<p><span class="filename">Filename: src/lib.rs</span></p>
<pre><code class="language-rust ignore">mod client;

mod network;
</code></pre>
<p>Luego, cree un nuevo archivo <em>src/network.rs</em> e ingrese lo siguiente:</p>
<p><span class="filename">Filename: src/network.rs</span></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn connect() {
}

mod server {
    fn connect() {
    }
}
<span class="boring">}
</span></code></pre></pre>
<p>Tenga en cuenta que todavía tenemos una declaración <code>mod</code> dentro de este
archivo de módulo; esto es porque todavía queremos que <code>server</code> sea un
submódulo de <code>network</code>.</p>
<p>Ejecute <code>cargo build</code> de nuevo. ¡Éxito! Tenemos un módulo más para extraer:
<code>server</code>. Debido a que es un submódulo, es decir, un módulo dentro de un
módulo, nuestra táctica actual de extraer un módulo en un archivo con el
nombre de ese módulo no funcionará. Intentaremos de todos modos para que
pueda ver el error. En primer lugar, cambie <em>src/network.rs</em> para que tenga
<code>mod server;</code> en lugar del contenido del módulo <code>server</code>:</p>
<p><span class="filename">Filename: src/network.rs</span></p>
<pre><code class="language-rust ignore">fn connect() {
}

mod server;
</code></pre>
<p>Luego cree un archivo <em>src/server.rs</em> e ingresa el contenido del módulo
<code>server</code> que extrajimos:</p>
<p><span class="filename">Filename: src/server.rs</span></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn connect() {
}
<span class="boring">}
</span></code></pre></pre>
<p>Cuando intentemos ejecutar <code>cargo build</code>, obtendremos el error que se muestra
en el Listado 7-5.</p>
<pre><code class="language-text">$ cargo build
   Compiling communicator v0.1.0 (file:///projects/communicator)
error: cannot declare a new module at this location
 --&gt; src/network.rs:4:5
  |
4 | mod server;
  |     ^^^^^^
  |
note: maybe move this module `src/network.rs` to its own directory via `src/network/mod.rs`
 --&gt; src/network.rs:4:5
  |
4 | mod server;
  |     ^^^^^^
note: ... or maybe `use` the module `server` instead of possibly redeclaring it
 --&gt; src/network.rs:4:5
  |
4 | mod server;
  |     ^^^^^^
</code></pre>
<p><span class="caption">Listing 7-5: Error al intentar extraer el submódulo
<code>server</code> en *src/server.rs *</span></p>
<p>El error dice que <code>no se puede declarar un nuevo módulo en esta ubicación</code> y
apunta a la línea <code>mod server;</code>en <em>src/network.rs</em>. Entonces
<em>src/network.rs</em> es diferente de <em>src/lib.rs</em> de alguna manera: sigue leyendo
para entender por qué.</p>
<p>La nota en el medio del Listado 7-5 es realmente muy útil porque señala algo
que todavía no hemos hablado:</p>
<pre><code class="language-text">note: maybe move this module `network` to its own directory via
`network/mod.rs`
</code></pre>
<p>En lugar de continuar siguiendo el mismo patrón de denominación de archivos
que usamos anteriormente, podemos hacer lo que sugiere la nota:</p>
<ol>
<li>Cree un nuevo <em>directorio</em> llamado <em>red</em>, el nombre del módulo principal.</li>
<li>Mueva el archivo <em>src/network.rs</em> al nuevo directorio <em>network</em> y cámbiele
el nombre <em>src/network/mod.rs</em>.</li>
<li>Mueva el archivo de submódulo <em>src/server.rs</em> al directorio <em>network</em>.</li>
</ol>
<p>Aquí hay comandos para llevar a cabo estos pasos:</p>
<pre><code class="language-text">$ mkdir src/network
$ mv src/network.rs src/network/mod.rs
$ mv src/server.rs src/network
</code></pre>
<p>Ahora, cuando intentemos ejecutar <code>cargo build</code>, la compilación funcionará
(aunque todavía tendremos advertencias). Nuestro diseño de módulo todavía se
ve exactamente igual que cuando teníamos todo el código en <em>src/lib.rs</em> en el
Listado 7-3:</p>
<pre><code class="language-text">communicator
 ├── client
 └── network
     └── server
</code></pre>
<p>El diseño de archivo correspondiente ahora se ve así:</p>
<pre><code class="language-text">└── src
    ├── client.rs
    ├── lib.rs
    └── network
        ├── mod.rs
        └── server.rs
</code></pre>
<p>Entonces, cuando quisimos extraer el módulo <code>network::server</code>, ¿por qué
también teníamos que cambiar el archivo <em>src/network.rs</em> al archivo
<em>src/networ/mod.rs</em> y poner el código para <code>network::server</code> en el directorio
<em>network</em> en <em>src/network/server.rs</em>? ¿Por qué no podríamos simplemente
extraer el módulo <code>network::server</code> en <em>src/server.rs</em>? La razón es que Rust
no podría reconocer que se suponía que <code>server</code> era un submódulo de <code>network</code>
si el archivo <em>server.rs</em> estaba en el directorio <em>src</em>. Para aclarar el
comportamiento de Rust aquí, consideremos un ejemplo diferente con la
siguiente jerarquía de módulos, donde todas las definiciones están en
<em>src/lib.rs</em>:</p>
<pre><code class="language-text">communicator
 ├── client
 └── network
     └── client
</code></pre>
<p>En este ejemplo, tenemos tres módulos de nuevo: <code>client</code>,<code>network</code>, y
<code>network::client</code>. Siguiendo los mismos pasos que hicimos anteriormente para
extraer módulos en archivos, creamos <em>src/client.rs</em> para el módulo <code>client</code>.
Para el módulo <code>network</code>, creamos <em>src/network.rs</em>. Pero no podríamos extraer
el módulo <code>network::client</code> en un archivo <em>src/client.rs</em> porque eso ya
existe para el módulo <code>client</code> de nivel superior. Si pudiéramos poner el
código para los módulos <em>ambos</em> <code>client</code> y <code>network::client</code> en el archivo
<em>src/client.rs</em>, Rust no tendría forma de saber si el código era para
<code>client</code> o para <code>network::client</code>.</p>
<p>Por lo tanto, para extraer un archivo para el submódulo <code>network::client</code> del
módulo<code> network</code>, necesitamos crear un directorio para el módulo <code>network</code> en
lugar de un archivo <em>src/network.rs</em>. El código que está en el módulo
<code>network</code> luego entra en el archivo <em>src/network/mod.rs</em>, y el submódulo
<code>network::client</code> puede tener su propio archivo <em>src/networ/client.rs</em>.
Ahora, el nivel superior <em>src/client.rs</em> es inequívocamente el código que
pertenece al módulo <code>client</code>.</p>
<h3 id="reglas-de-los-sistemas-de-archivos-del-módulo"><a class="header" href="#reglas-de-los-sistemas-de-archivos-del-módulo">Reglas de los sistemas de archivos del módulo</a></h3>
<p>Vamos a resumir las reglas de los módulos con respecto a los archivos:</p>
<ul>
<li>Si un módulo llamado <code>foo</code> no tiene submódulos, debe poner las
declaraciones de <code>foo</code> en un archivo llamado <em>foo.rs</em>.</li>
<li>Si un módulo llamado <code>foo</code> tiene submódulos, debe poner las declaraciones
para <code>foo</code> en un archivo llamado <em>foo/mod.rs</em>.</li>
</ul>
<p>Estas reglas se aplican recursivamente, por lo que si un módulo llamado <code>foo</code>
tiene un submódulo llamado <code>bar</code> y <code>bar</code> no tiene submódulos, debe tener los
siguientes archivos en su directorio <em>src</em>:</p>
<pre><code class="language-text">└── foo
    ├── bar.rs (contains the declarations in `foo::bar`)
    └── mod.rs (contains the declarations in `foo`, including `mod bar`)
</code></pre>
<p>Los módulos deben declararse en el archivo de su módulo padre con la palabra
clave <code>mod</code>.</p>
<p>A continuación, hablaremos de la palabra clave <code>pub</code> y eliminaremos esas
advertencias.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ch07-00-modules.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="ch07-02-controlling-visibility-with-pub.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ch07-00-modules.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="ch07-02-controlling-visibility-with-pub.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
